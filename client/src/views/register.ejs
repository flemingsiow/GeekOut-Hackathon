<!-- 

		  		  Author:  Fleming Siow
		   Serial Number:  4
               	   Class:  DAAA/FT/1B/03
    	Admission Number:  p2011828
      	  		    Date:  7th February, 2021
			    Filename:  register.ejs

		
		
        Registration page for SPGames.

-->
<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('partials/head'); %>
    <title>SPGames | Register</title>
</head>

<body id="register_bg">
	
	<nav id="menu" class="fake_menu"></nav>
	
	<div id="preloader">
		<div data-loader="circle-side"></div>
	</div>
	<!-- End Preload -->
	
	<div id="register">
		<aside>
			<figure>
                <a href="/"><img src="/assets/img/logo_sticky.png" width="155" height="36" 
                    data-retina="true" alt="" class="logo_sticky img-fluid"></a>
            </figure>
            
            <!-- Registration Form -->
			<form id="register-form" method="POST" action='/register' autocomplete="off">

                <!-- Username -->
				<div class="form-group">
					<label>Your Username</label>
                    <% if (register) { %>
					    <input class="form-control" type="text" name="username" id="username" value="<%= register.username %>">
                    <% } else { %>
                        <input class="form-control" type="text" name="username" id="username">
                    <% }; %>
					<i class="ti-user"></i>
                </div>
                
                <!-- Email -->
				<div class="form-group">
					<label>Your Email</label>
                    <% if (register) { %>
					    <input class="form-control" type="email" name="email" id="email" value="<%= register.email %>">
                    <% } else { %>
                        <input class="form-control" type="email" name="email" id="email">
                    <% }; %>
					<i class="icon_mail_alt"></i>
                </div>
                
                <!-- Password -->
				<div class="form-group">
					<label>Your password</label>
                    <% if (register) { %>
					    <input class="form-control" type="password" name="password" id="password1" 
                            autocomplete="new-password" value="<%= register.password %>">
                    <% } else { %>
                        <input class="form-control" type="password" name="password" id="password1" autocomplete="new-password">
                    <% }; %>
					<i class="icon_lock_alt"></i>
                </div>
                
                <!-- Confirm Password -->
				<div class="form-group">
					<label>Confirm password</label>
                    <% if (register) { %>
					    <input class="form-control" type="password" id="password2" name="cfmpassword" value="<%= register.cfmpassword %>">
                    <% } else { %>
                        <input class="form-control" type="password" id="password2" name="cfmpassword">
                    <% }; %>
					<i class="icon_lock_alt"></i>
                </div>
                
                <!-- Custom Message -->
                <div id="custom_msg">
                    <% 
                        if(error) { %>
                            <div class="alert alert-danger alert-dismissible fade show">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>
                                <strong>Error!</strong> <%= error %>
                            </div>
                    <%  }; %>
                </div>
                
                <!-- Register Button -->
                <input type="submit" id="register_btn" value="Register Now!" class="btn_1 rounded full-width add_top_30" style="width: 100%">
                
                <!-- Direct to Login Button -->
                <div class="text-center add_top_10">Already have an acccount? <strong><a href="/login">Login</a></strong></div>
                
            </form>
            
			<div class="copy">Â© 2021 Fleming</div>
		</aside>
	</div>
    <!-- /login -->

    <script>
        $('#password2').change(function() {
            if ($(this).val() !== $('#password1').val()) {

                const errMsg = `
                    <div class="alert alert-danger alert-dismissible fade show">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                        <strong>Error!</strong> Passwords do not match!
                    </div>
                `;
                $('#custom_msg').html(errMsg);

            } else {
                
                const sucMsg = `
                    <div class="alert alert-success alert-dismissible fade show">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                        <strong>Nice!</strong> Passwords match!
                    </div>
                `;
                $('#custom_msg').html(sucMsg);
            };
        });
    </script>

    <!-- Scripts -->
    <script src="../assets/js/main.js"></script>
    <script defer src="../assets/js/jquery.flexslider.js"></script>
    <script src="../assets/js/validate.js"></script>
    <script src="../assets/js/pw_strenght.js"></script>
    <script src="../assets/js/isotope.min.js"></script>

    
  
</body>
</html>